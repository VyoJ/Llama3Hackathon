Title: now make sure you create the search index with the right name here

URL Source: https://docs.llamaindex.ai/en/stable/examples/vector_stores/MongoDBAtlasVectorSearchRAGFireworks/

Markdown Content:
now make sure you create the search index with the right name here - LlamaIndex
0.1.2 llama\-index\-llms\-fireworks
!pip install \-q pymongo datasets pandas

!pip install -q llama-index llama-index-vector-stores-mongodb llama-index-embeddings-fireworks

In \[ \]:

Copied!

from llama\_index.core import VectorStoreIndex, StorageContext

index \= VectorStoreIndex.from\_vector\_store(vector\_store)

from llama\_index.core import VectorStoreIndex, StorageContext index = VectorStoreIndex.from\_vector\_store(vector\_store)

In \[ \]:

Copied!

%pip install \-q matplotlib

%pip install -q matplotlib

Note: you may need to restart the kernel to use updated packages.

In \[ \]:

Copied!

import pprint
from llama\_index.core.response.notebook\_utils import display\_response

query\_engine \= index.as\_query\_engine()

query \= "search query: Anything that doesn't have alcohol in it"

response \= query\_engine.query(query)
display\_response(response)
pprint.pprint(response.source\_nodes)

import pprint from llama\_index.core.response.notebook\_utils import display\_response query\_engine = index.as\_query\_engine() query = "search query: Anything that doesn't have alcohol in it" response = query\_engine.query(query) display\_response(response) pprint.pprint(response.source\_nodes)

**`Final Response:`** Based on the context provided, two restaurant options that don't serve alcohol are:

1.  "Academy Restauraunt" in Brooklyn, which serves American cuisine and has a variety of dishes such as Mozzarella sticks, Cheeseburger, Baked potato, Breadsticks, Caesar salad, Chicken parmesan, Pigs in a blanket, Chicken soup, Mac & cheese, Mushroom swiss burger, Spaghetti with meatballs, and Mashed potatoes.
    
2.  "Gabriel'S Bar & Grill" in Manhattan, which specializes in Italian cuisine and offers dishes like Cheese Ravioli, Neapolitan Pizza, assorted gelato, Vegetarian Baked Ziti, Vegetarian Broccoli Pizza, Lasagna, Buca Trio Platter, Spinach Ravioli, Pasta with ricotta cheese, Spaghetti, Fried calamari, and Alfredo Pizza.
    

Both restaurants offer outdoor seating, are kid-friendly, and have a casual dress code. They also provide take-out service and have happy hour promotions.

\[NodeWithScore(node=TextNode(id\_='5405e68c-19f2-4a65-95d7-f880fa6a8deb', embedding=None, metadata={'restaurant\_id': '40385767', 'attributes': '{"Alcohol": "u\\'beer\_and\_wine\\'", "Ambience": "{\\'touristy\\': False, \\'hipster\\': False, \\'romantic\\': False, \\'divey\\': False, \\'intimate\\': None, \\'trendy\\': None, \\'upscale\\': False, \\'classy\\': False, \\'casual\\': True}", "BYOB": null, "BestNights": "{\\'monday\\': False, \\'tuesday\\': False, \\'friday\\': True, \\'wednesday\\': False, \\'thursday\\': False, \\'sunday\\': False, \\'saturday\\': True}", "BikeParking": "True", "BusinessAcceptsBitcoin": "False", "BusinessAcceptsCreditCards": "True", "BusinessParking": "{\\'garage\\': False, \\'street\\': False, \\'validated\\': False, \\'lot\\': True, \\'valet\\': False}", "Caters": "True", "DriveThru": null, "GoodForDancing": "False", "GoodForKids": "True", "GoodForMeal": "{\\'dessert\\': False, \\'latenight\\': False, \\'lunch\\': True, \\'dinner\\': True, \\'brunch\\': False, \\'breakfast\\': False}", "HasTV": "True", "Music": "{\\'dj\\': False, \\'background\_music\\': False, \\'no\_music\\': False, \\'jukebox\\': False, \\'live\\': False, \\'video\\': False, \\'karaoke\\': False}", "NoiseLevel": "u\\'average\\'", "RestaurantsAttire": "u\\'casual\\'", "RestaurantsDelivery": "None", "RestaurantsGoodForGroups": "True", "RestaurantsReservations": "True", "RestaurantsTableService": "True", "WheelchairAccessible": "True", "WiFi": "u\\'free\\'"}', 'cuisine': '"American"', 'DogsAllowed': True, 'OutdoorSeating': True, 'borough': '"Brooklyn"', 'address': '{"building": "69", "coord": \[-73.9757464, 40.687295\], "street": "Lafayette Avenue", "zipcode": "11217"}', 'name': '"Academy Restauraunt"', 'menu': '\["Mozzarella sticks", "Cheeseburger", "Baked potato", "Breadsticks", "Caesar salad", "Chicken parmesan", "Pigs in a blanket", "Chicken soup", "Mac & cheese", "Mushroom swiss burger", "Spaghetti with meatballs", "Mashed potatoes"\]', 'TakeOut': 'true', 'PriceRange': '2.0', 'HappyHour': 'true', 'review\_count': '173', 'sponsored': None, 'stars': 4.5}, excluded\_embed\_metadata\_keys=\[\], excluded\_llm\_metadata\_keys=\[\], relationships={<NodeRelationship.SOURCE: '1'>: RelatedNodeInfo(node\_id='bbfc4bf5-d9c3-4f3b-8c1f-ddcf94f3b5df', node\_type=<ObjectType.DOCUMENT: '4'>, metadata={'restaurant\_id': '40385767', 'attributes': '{"Alcohol": "u\\'beer\_and\_wine\\'", "Ambience": "{\\'touristy\\': False, \\'hipster\\': False, \\'romantic\\': False, \\'divey\\': False, \\'intimate\\': None, \\'trendy\\': None, \\'upscale\\': False, \\'classy\\': False, \\'casual\\': True}", "BYOB": null, "BestNights": "{\\'monday\\': False, \\'tuesday\\': False, \\'friday\\': True, \\'wednesday\\': False, \\'thursday\\': False, \\'sunday\\': False, \\'saturday\\': True}", "BikeParking": "True", "BusinessAcceptsBitcoin": "False", "BusinessAcceptsCreditCards": "True", "BusinessParking": "{\\'garage\\': False, \\'street\\': False, \\'validated\\': False, \\'lot\\': True, \\'valet\\': False}", "Caters": "True", "DriveThru": null, "GoodForDancing": "False", "GoodForKids": "True", "GoodForMeal": "{\\'dessert\\': False, \\'latenight\\': False, \\'lunch\\': True, \\'dinner\\': True, \\'brunch\\': False, \\'breakfast\\': False}", "HasTV": "True", "Music": "{\\'dj\\': False, \\'background\_music\\': False, \\'no\_music\\': False, \\'jukebox\\': False, \\'live\\': False, \\'video\\': False, \\'karaoke\\': False}", "NoiseLevel": "u\\'average\\'", "RestaurantsAttire": "u\\'casual\\'", "RestaurantsDelivery": "None", "RestaurantsGoodForGroups": "True", "RestaurantsReservations": "True", "RestaurantsTableService": "True", "WheelchairAccessible": "True", "WiFi": "u\\'free\\'"}', 'cuisine': '"American"', 'DogsAllowed': True, 'OutdoorSeating': True, 'borough': '"Brooklyn"', 'address': '{"building": "69", "coord": \[-73.9757464, 40.687295\], "street": "Lafayette Avenue", "zipcode": "11217"}', '\_id': {'$oid': '6095a34a7c34416a90d322d1'}, 'name': '"Academy Restauraunt"', 'menu': '\["Mozzarella sticks", "Cheeseburger", "Baked potato", "Breadsticks", "Caesar salad", "Chicken parmesan", "Pigs in a blanket", "Chicken soup", "Mac & cheese", "Mushroom swiss burger", "Spaghetti with meatballs", "Mashed potatoes"\]', 'TakeOut': 'true', 'PriceRange': '2.0', 'HappyHour': 'true', 'review\_count': '173', 'sponsored': None, 'stars': 4.5}, hash='df7870b3103572b05e98091e4d4b52b238175eb08558831b621b6832c0472c2e'), <NodeRelationship.PREVIOUS: '2'>: RelatedNodeInfo(node\_id='5fbb14fe-c8a8-4c4c-930d-2e07e4f77b47', node\_type=<ObjectType.TEXT: '1'>, metadata={'restaurant\_id': '40377111', 'attributes': '{"Alcohol": null, "Ambience": null, "BYOB": null, "BestNights": null, "BikeParking": "True", "BusinessAcceptsBitcoin": null, "BusinessAcceptsCreditCards": "False", "BusinessParking": "{\\'garage\\': False, \\'street\\': True, \\'validated\\': False, \\'lot\\': False, \\'valet\\': False}", "Caters": null, "DriveThru": "True", "GoodForDancing": null, "GoodForKids": null, "GoodForMeal": null, "HasTV": null, "Music": null, "NoiseLevel": null, "RestaurantsAttire": null, "RestaurantsDelivery": "True", "RestaurantsGoodForGroups": null, "RestaurantsReservations": null, "RestaurantsTableService": null, "WheelchairAccessible": null, "WiFi": null}', 'cuisine': '"American"', 'DogsAllowed': None, 'OutdoorSeating': None, 'borough': '"Manhattan"', 'address': '{"building": "1207", "coord": \[-73.9592644, 40.8088612\], "street": "Amsterdam Avenue", "zipcode": "10027"}', '\_id': {'$oid': '6095a34a7c34416a90d321d6'}, 'name': '"Amsterdam Restaurant & Tapas Lounge"', 'menu': '\["Green salad", "Cheddar Biscuits", "Lasagna", "Chicken parmesan", "Chicken soup", "Pigs in a blanket", "Caesar salad", "French fries", "Baked potato", "Mushroom swiss burger", "Grilled cheese sandwich", "Fried chicken"\]', 'TakeOut': 'true', 'PriceRange': '1.0', 'HappyHour': 'null', 'review\_count': '6', 'sponsored': None, 'stars': 5.0}, hash='1261332dd67be495d0639f41b5f6462f87a41aabe20367502ef28074bf13e561'), <NodeRelationship.NEXT: '3'>: RelatedNodeInfo(node\_id='10ad1a23-3237-4b68-808d-58fd7b7e5cb6', node\_type=<ObjectType.TEXT: '1'>, metadata={}, hash='bc64dca2f9210693c3d5174aec305f25b68d080be65a0ae52f9a560f99992bb0')}, text='{"restaurant\_id": "40385767", "attributes": "{\\\\"Alcohol\\\\": \\\\"u\\'beer\_and\_wine\\'\\\\", \\\\"Ambience\\\\": \\\\"{\\'touristy\\': False, \\'hipster\\': False, \\'romantic\\': False, \\'divey\\': False, \\'intimate\\': None, \\'trendy\\': None, \\'upscale\\': False, \\'classy\\': False, \\'casual\\': True}\\\\", \\\\"BYOB\\\\": null, \\\\"BestNights\\\\": \\\\"{\\'monday\\': False, \\'tuesday\\': False, \\'friday\\': True, \\'wednesday\\': False, \\'thursday\\': False, \\'sunday\\': False, \\'saturday\\': True}\\\\", \\\\"BikeParking\\\\": \\\\"True\\\\", \\\\"BusinessAcceptsBitcoin\\\\": \\\\"False\\\\", \\\\"BusinessAcceptsCreditCards\\\\": \\\\"True\\\\", \\\\"BusinessParking\\\\": \\\\"{\\'garage\\': False, \\'street\\': False, \\'validated\\': False, \\'lot\\': True, \\'valet\\': False}\\\\", \\\\"Caters\\\\": \\\\"True\\\\", \\\\"DriveThru\\\\": null, \\\\"GoodForDancing\\\\": \\\\"False\\\\", \\\\"GoodForKids\\\\": \\\\"True\\\\", \\\\"GoodForMeal\\\\": \\\\"{\\'dessert\\': False, \\'latenight\\': False, \\'lunch\\': True, \\'dinner\\': True, \\'brunch\\': False, \\'breakfast\\': False}\\\\", \\\\"HasTV\\\\": \\\\"True\\\\", \\\\"Music\\\\": \\\\"{\\'dj\\': False, \\'background\_music\\': False, \\'no\_music\\': False, \\'jukebox\\': False, \\'live\\': False, \\'video\\': False, \\'karaoke\\': False}\\\\", \\\\"NoiseLevel\\\\": \\\\"u\\'average\\'\\\\", \\\\"RestaurantsAttire\\\\": \\\\"u\\'casual\\'\\\\", \\\\"RestaurantsDelivery\\\\": \\\\"None\\\\", \\\\"RestaurantsGoodForGroups\\\\": \\\\"True\\\\", \\\\"RestaurantsReservations\\\\": \\\\"True\\\\", \\\\"RestaurantsTableService\\\\": \\\\"True\\\\", \\\\"WheelchairAccessible\\\\": \\\\"True\\\\", \\\\"WiFi\\\\": \\\\"u\\'free\\'\\\\"}", "cuisine": "\\\\"American\\\\"", "DogsAllowed": true, "OutdoorSeating": true, "borough": "\\\\"Brooklyn\\\\"",', start\_char\_idx=0, end\_char\_idx=1415, text\_template='Metadata: {metadata\_str}\\n-----\\nContent: {content}', metadata\_template='{key}=>{value}', metadata\_seperator='\\n'), score=0.7296431064605713),
 NodeWithScore(node=TextNode(id\_='9cd153ba-2ab8-40aa-90f0-9da5ae24c632', embedding=None, metadata={'restaurant\_id': '40392690', 'attributes': '{"Alcohol": "u\\'full\_bar\\'", "Ambience": "{\\'touristy\\': None, \\'hipster\\': True, \\'romantic\\': False, \\'divey\\': False, \\'intimate\\': None, \\'trendy\\': True, \\'upscale\\': None, \\'classy\\': True, \\'casual\\': True}", "BYOB": "False", "BestNights": "{\\'monday\\': False, \\'tuesday\\': False, \\'friday\\': True, \\'wednesday\\': False, \\'thursday\\': False, \\'sunday\\': False, \\'saturday\\': False}", "BikeParking": "True", "BusinessAcceptsBitcoin": null, "BusinessAcceptsCreditCards": "True", "BusinessParking": "{\\'garage\\': False, \\'street\\': True, \\'validated\\': False, \\'lot\\': False, \\'valet\\': False}", "Caters": "True", "DriveThru": "False", "GoodForDancing": "False", "GoodForKids": "True", "GoodForMeal": "{\\'dessert\\': None, \\'latenight\\': None, \\'lunch\\': True, \\'dinner\\': True, \\'brunch\\': False, \\'breakfast\\': False}", "HasTV": "False", "Music": "{\\'dj\\': False, \\'background\_music\\': False, \\'no\_music\\': False, \\'jukebox\\': False, \\'live\\': False, \\'video\\': False, \\'karaoke\\': False}", "NoiseLevel": "u\\'average\\'", "RestaurantsAttire": "\\'casual\\'", "RestaurantsDelivery": "True", "RestaurantsGoodForGroups": "True", "RestaurantsReservations": "False", "RestaurantsTableService": "True", "WheelchairAccessible": "True", "WiFi": "\\'free\\'"}', 'cuisine': '"Italian"', 'DogsAllowed': True, 'OutdoorSeating': True, 'borough': '"Manhattan"', 'address': '{"building": "11", "coord": \[-73.9828696, 40.7693649\], "street": "West   60 Street", "zipcode": "10023"}', 'name': '"Gabriel\\'S Bar & Grill"', 'menu': '\["Cheese Ravioli", "Neapolitan Pizza", "assorted gelato", "Vegetarian Baked Ziti", "Vegetarian Broccoli Pizza", "Lasagna", "Buca Trio Platter", "Spinach Ravioli", "Pasta with ricotta cheese", "Spaghetti", "Fried calimari", "Alfredo Pizza"\]', 'TakeOut': 'true', 'PriceRange': '2.0', 'HappyHour': 'true', 'review\_count': '333', 'sponsored': None, 'stars': 4.0}, excluded\_embed\_metadata\_keys=\[\], excluded\_llm\_metadata\_keys=\[\], relationships={<NodeRelationship.SOURCE: '1'>: RelatedNodeInfo(node\_id='77584933-8286-4277-bc56-bed76adcfd37', node\_type=<ObjectType.DOCUMENT: '4'>, metadata={'restaurant\_id': '40392690', 'attributes': '{"Alcohol": "u\\'full\_bar\\'", "Ambience": "{\\'touristy\\': None, \\'hipster\\': True, \\'romantic\\': False, \\'divey\\': False, \\'intimate\\': None, \\'trendy\\': True, \\'upscale\\': None, \\'classy\\': True, \\'casual\\': True}", "BYOB": "False", "BestNights": "{\\'monday\\': False, \\'tuesday\\': False, \\'friday\\': True, \\'wednesday\\': False, \\'thursday\\': False, \\'sunday\\': False, \\'saturday\\': False}", "BikeParking": "True", "BusinessAcceptsBitcoin": null, "BusinessAcceptsCreditCards": "True", "BusinessParking": "{\\'garage\\': False, \\'street\\': True, \\'validated\\': False, \\'lot\\': False, \\'valet\\': False}", "Caters": "True", "DriveThru": "False", "GoodForDancing": "False", "GoodForKids": "True", "GoodForMeal": "{\\'dessert\\': None, \\'latenight\\': None, \\'lunch\\': True, \\'dinner\\': True, \\'brunch\\': False, \\'breakfast\\': False}", "HasTV": "False", "Music": "{\\'dj\\': False, \\'background\_music\\': False, \\'no\_music\\': False, \\'jukebox\\': False, \\'live\\': False, \\'video\\': False, \\'karaoke\\': False}", "NoiseLevel": "u\\'average\\'", "RestaurantsAttire": "\\'casual\\'", "RestaurantsDelivery": "True", "RestaurantsGoodForGroups": "True", "RestaurantsReservations": "False", "RestaurantsTableService": "True", "WheelchairAccessible": "True", "WiFi": "\\'free\\'"}', 'cuisine': '"Italian"', 'DogsAllowed': True, 'OutdoorSeating': True, 'borough': '"Manhattan"', 'address': '{"building": "11", "coord": \[-73.9828696, 40.7693649\], "street": "West   60 Street", "zipcode": "10023"}', '\_id': {'$oid': '6095a34b7c34416a90d3243a'}, 'name': '"Gabriel\\'S Bar & Grill"', 'menu': '\["Cheese Ravioli", "Neapolitan Pizza", "assorted gelato", "Vegetarian Baked Ziti", "Vegetarian Broccoli Pizza", "Lasagna", "Buca Trio Platter", "Spinach Ravioli", "Pasta with ricotta cheese", "Spaghetti", "Fried calimari", "Alfredo Pizza"\]', 'TakeOut': 'true', 'PriceRange': '2.0', 'HappyHour': 'true', 'review\_count': '333', 'sponsored': None, 'stars': 4.0}, hash='c4dcc57a697cd2fe3047a280573c0f54bc5236e1d5af2228737af77613c9dbf7'), <NodeRelationship.PREVIOUS: '2'>: RelatedNodeInfo(node\_id='6e1ead27-3679-48fb-b160-b47db523a3ce', node\_type=<ObjectType.TEXT: '1'>, metadata={'restaurant\_id': '40392496', 'attributes': '{"Alcohol": "u\\'none\\'", "Ambience": "{\\'touristy\\': False, \\'hipster\\': False, \\'romantic\\': False, \\'intimate\\': None, \\'trendy\\': False, \\'upscale\\': False, \\'classy\\': False, \\'casual\\': True}", "BYOB": null, "BestNights": null, "BikeParking": "True", "BusinessAcceptsBitcoin": null, "BusinessAcceptsCreditCards": null, "BusinessParking": "{\\'garage\\': False, \\'street\\': True, \\'validated\\': False, \\'lot\\': False, \\'valet\\': False}", "Caters": "False", "DriveThru": null, "GoodForDancing": null, "GoodForKids": "True", "GoodForMeal": "{\\'dessert\\': False, \\'latenight\\': False, \\'lunch\\': True, \\'dinner\\': True, \\'brunch\\': None, \\'breakfast\\': False}", "HasTV": "True", "Music": null, "NoiseLevel": "u\\'average\\'", "RestaurantsAttire": "u\\'casual\\'", "RestaurantsDelivery": "True", "RestaurantsGoodForGroups": "False", "RestaurantsReservations": "False", "RestaurantsTableService": "True", "WheelchairAccessible": null, "WiFi": "\\'free\\'"}', 'cuisine': '"English"', 'DogsAllowed': True, 'OutdoorSeating': True, 'borough': '"Manhattan"', 'address': '{"building": "253", "coord": \[-74.0034571, 40.736351\], "street": "West   11 Street", "zipcode": "10014"}', '\_id': {'$oid': '6095a34b7c34416a90d32435'}, 'name': '"Tartine"', 'menu': 'null', 'TakeOut': 'true', 'PriceRange': '2.0', 'HappyHour': 'true', 'review\_count': '436', 'sponsored': None, 'stars': 4.5}, hash='146bffad5c816926ec1008d966caab7c0df675251ccca5de860f8a2160bb7a34'), <NodeRelationship.NEXT: '3'>: RelatedNodeInfo(node\_id='6640911b-3d8e-4bad-a016-4c3d91444b0c', node\_type=<ObjectType.TEXT: '1'>, metadata={}, hash='39984a7534d6755344f0887e0d6a200eaab562a7dc492afe292040c0022282bd')}, text='{"restaurant\_id": "40392690", "attributes": "{\\\\"Alcohol\\\\": \\\\"u\\'full\_bar\\'\\\\", \\\\"Ambience\\\\": \\\\"{\\'touristy\\': None, \\'hipster\\': True, \\'romantic\\': False, \\'divey\\': False, \\'intimate\\': None, \\'trendy\\': True, \\'upscale\\': None, \\'classy\\': True, \\'casual\\': True}\\\\", \\\\"BYOB\\\\": \\\\"False\\\\", \\\\"BestNights\\\\": \\\\"{\\'monday\\': False, \\'tuesday\\': False, \\'friday\\': True, \\'wednesday\\': False, \\'thursday\\': False, \\'sunday\\': False, \\'saturday\\': False}\\\\", \\\\"BikeParking\\\\": \\\\"True\\\\", \\\\"BusinessAcceptsBitcoin\\\\": null, \\\\"BusinessAcceptsCreditCards\\\\": \\\\"True\\\\", \\\\"BusinessParking\\\\": \\\\"{\\'garage\\': False, \\'street\\': True, \\'validated\\': False, \\'lot\\': False, \\'valet\\': False}\\\\", \\\\"Caters\\\\": \\\\"True\\\\", \\\\"DriveThru\\\\": \\\\"False\\\\", \\\\"GoodForDancing\\\\": \\\\"False\\\\", \\\\"GoodForKids\\\\": \\\\"True\\\\", \\\\"GoodForMeal\\\\": \\\\"{\\'dessert\\': None, \\'latenight\\': None, \\'lunch\\': True, \\'dinner\\': True, \\'brunch\\': False, \\'breakfast\\': False}\\\\", \\\\"HasTV\\\\": \\\\"False\\\\", \\\\"Music\\\\": \\\\"{\\'dj\\': False, \\'background\_music\\': False, \\'no\_music\\': False, \\'jukebox\\': False, \\'live\\': False, \\'video\\': False, \\'karaoke\\': False}\\\\", \\\\"NoiseLevel\\\\": \\\\"u\\'average\\'\\\\", \\\\"RestaurantsAttire\\\\": \\\\"\\'casual\\'\\\\", \\\\"RestaurantsDelivery\\\\": \\\\"True\\\\", \\\\"RestaurantsGoodForGroups\\\\": \\\\"True\\\\", \\\\"RestaurantsReservations\\\\": \\\\"False\\\\", \\\\"RestaurantsTableService\\\\": \\\\"True\\\\", \\\\"WheelchairAccessible\\\\": \\\\"True\\\\", \\\\"WiFi\\\\": \\\\"\\'free\\'\\\\"}", "cuisine": "\\\\"Italian\\\\"", "DogsAllowed": true, "OutdoorSeating": true,', start\_char\_idx=0, end\_char\_idx=1382, text\_template='Metadata: {metadata\_str}\\n-----\\nContent: {content}', metadata\_template='{key}=>{value}', metadata\_seperator='\\n'), score=0.7284677028656006)\]

Back to top

[Previous MongoDBAtlasVectorSearch](https://docs.llamaindex.ai/en/stable/examples/vector_stores/MongoDBAtlasVectorSearch/)[Next MongoDBAtlasVectorSearchRAGOpenAI](https://docs.llamaindex.ai/en/stable/examples/vector_stores/MongoDBAtlasVectorSearchRAGOpenAI/)
